BrainSpace是一个轻量级的跨平台工具箱，主要用于宏观梯度映射和神经影像和连接组级数据分析。当前版本的BrainSpace可用于Python和MATLAB，这是神经影像学和网络神经科学社区广泛使用的编程语言。该工具箱还包含几个地图，允许探索性分析与其他大脑衍生特征的梯度对应关系，以及生成空间空模型的工具。



阅读/书写Gifti表面需要Nibabel。Matplotlib仅用于彩色地图，我们可能会在未来的版本中删除此依赖项。



为了实现交互性，IPython笔记本中的一些绘图功能利用了面板包。PyQT是背景绘图的另一个依赖项。有关背景绘图的更多信息，请参阅PyVista。然而，背景渲染的支持仍然是实验性的。



### 梯度简介

传统上，许多神经影像学研究试图根据解剖或功能特征将人脑分成不同的区域。虽然有效，但这些方法所假定的严格界限往往是不现实的，包裹之间缺乏明确的排序。最近，将大脑定义为沿着流形轴的一组连续分数的“梯度”方法已经普及（另请参见参考文献）。这些技术的核心是计算捕获给定特征的区域间相似性的亲和矩阵，然后应用降维技术来识别低维流形空间中输入矩阵的逐渐排序。

BrainSpace是一个紧凑而灵活的工具箱，它实现了从神经影像和connectome数据构建宏观梯度的各种方法。在本概述中，我们将展示识别梯度及其可视化所需的基本步骤。下面的步骤将帮助您开始并建立您的第一个梯度。如果您还没有这样做，我们建议您安装该软件包（安装指南），以便您可以随附示例。

## Basic Gradient Construction

这些软件包带有conte69表面，以及几个皮质特征和碎片。让我们从加载conte69表面开始：



我们还加载从人类connectome项目（HCP）的一个子集构建的平均连接矩阵。该软件包带有几个示例矩阵，使用Schaefer分割进行下采样（Schaefer等，2017）。让我们加载其中一个。



为了计算连接矩阵m的梯度，我们创建了GradientMaps对象并将模型拟合到我们的数据中：

正如我们所看到的，该梯度对应于先前在文献中观察到的那些，即从默认模式运行到感觉区域。

最后，这个入门部分。有关更完整的文档和教程，请参阅MATLAB软件包和/或Python软件包。



# Tutorial 0: Preparing your data for gradient analysis

在这个例子中，我们将在下一个教程中介绍如何预处理原始MRI数据以及如何为后续梯度分析做好准备。



# Tutorial 1: Building your first gradient

在这个例子中，我们将推导出一个梯度并进行一些基本检查，以确定哪些梯度可能是感兴趣的，以及梯度的多维组织是什么样子。

我们将首先加载一些样本数据。请注意，我们正在使用分段数据来提高计算效率。

# Tutorial 2: Customizing and aligning gradients

在本教程中，您将了解GradientMaps类中可用的方法。该类的灵活使用允许定制具有不同内核和降维的梯度计算，以及对齐来自不同数据集的梯度。本教程仅向您展示如何应用这些技术。





# Tutorial 3: Null models for gradient significance

在本教程中，我们评估第一个规范梯度与其他模态（曲率，皮质厚度和T1w/T2w图像强度）数据之间相关性的重要性。不能使用相关性显着性的正常检验，因为MRI数据中的空间自相关可能会使检验统计量产生偏差。在本教程中，我们将展示三种零假设检验方法：自旋置换，Moran谱随机化和基于变异函数匹配的自相关保留替代。