|      | 全自动脑扩散图像处理的工具箱PANDA                            | 跨平台的医学图像处理、分析和可视化软件包MRtrix3              |
| ---- | ------------------------------------------------------------ | ------------------------------------------------------------ |
|      | 使用来自**不同对象的任意数量的原始dMRI数据集**，PANDA可以自动执行一系列步骤来处理DICOM/NIFTI到扩散度量[例如，**分数各向异性(FA)和平均扩散系数(MD)**]，这些度量准备好在体素级别、图谱级别和基于区域的空间统计(TBSS)级别进行统计分析，并且可以完成所有对象的解剖脑网络的构建。 |                                                              |
|      | Panda可以在**一台计算机上或在分布式计算环境中使用多个内核来并行处理不同的主题**，从而大大减少了处理大量数据集的时间成本 | 在MRtrix3中，**几乎所有的命令都是多线程的**，默认情况下以最大限度地利用CPU处理器来实现高计算性能。 |
|      | 用于跨主题的扩散度量分析和脑网络结构的构建。                 |                                                              |
|      | 三个级别(体素级别、ROI级别和TBSS级别)的统计分析              |                                                              |
|      | 解剖脑网络可以使用**确定性或概率性脑束成像技术自动生成**     | 扩散分析MRtrix3包括从开始到结束进行不同类型扩散分析的工具,包括用于预处理、体素级建模、纤维跟踪和连接学.使用**DTI确定性示踪示踪概率示踪;通过野生引导使用DTI或fODF采样的概率示踪;多壳多组织整体示踪** |
|      | PANDA的输入文件可以是DICOM或NIFTI格式。                      | 对DICOM 15(只读)、Analyze，16NIfTI1，17NIfTI2，18MGH，19andMRtrix3’s自己的专用图像格式20以及压缩格式的本机支持.**MRtrix引入了一些额外的文件格式来处理各种类型的数据，特别是图像数据，并简化了数据**。 |
|      | PANDA的一些优点：(1)它可以在一台多核的单台计算机上并行运行作业，也可以在一个**计算集群中**并行运行；(2)它可以生成日志文件并跟踪流水线的执行情况；(3)如果程序在结束之前终止，用户可以加载一个配置文件，点击“运行”，PANDA将从终止点重新启动；(4)如果用户在更改某些选项后重新运行管道，Panda只会重新启动与这些选项相关的程序；同时支持顺序和并行处理模式，这使得充分利用可用的计算资源成为可能。 | **MRtrix引入了一些额外的文件格式来处理各种类型的数据，特别是图像数据，并简化了数据**。在标题中存储任意键值条目的能力，这使得能够存储扩散梯度和相位编码方案或任何其他被认为感兴趣的元数据，避免由于混合存储在多个文件(例如，bves/bvals文件)中的数据而导致的潜在误差源；跟踪命令历史；能够以任意步长存储数据;简化存储在扫描仪空间中的数据，消除对外部参考图像的任何依赖。 |
|      | PANDA的主要过程包括三个步骤：**(1)预处理；(2)产生扩散度量(准备好进行统计分析)；(3)构建网络**。 |                                                              |
|      |                                                              |                                                              |



**值得注意的是，用户可以将定制的地图集输入到PANDA中来定义网络节点。在这一步骤中，使用FSL的FIRTT、FNIRT、INWARP和APPLY WARP命令。使用确定性轨迹图构建网络。在一般情况下，确定性轨迹图假定跟踪过程中每个位置都有确定性的纤维取向，通常得到重建的WM轨迹的3D轨迹。**

**应用扩散束成像构建大熊猫解剖脑网络的流程图。**
(A)用确定性纤维束造影术重建的白质束

(B)弥散空间中灰质的分离，每种颜色表示脑网络中的一个节点

(C)使用FSL概率示踪的白质连通性图

(D)按纤维数、平均长度和平均FA加权的三个结果网络矩阵

(E)按连接概率加权的网络矩阵

![截屏2022-09-20 09.16.40](/Users/haozhipeng/Library/Application Support/typora-user-images/截屏2022-09-20 09.16.40.png)





**使用概率跟踪图构建网络。相反，概率跟踪图通常会多次运行跟踪程序，并以概率方式确定纤维方向。**
**这种类型的纤维束造影术可以提高跟踪灵敏度，特别是对非主导纤维。**
**Behrens等人(2003,2007)提出的概率跟踪图已在FSL中实现，并被熊猫称为组网。**
**该过程包括以下两个步骤：BedpostX。**
**使用马尔可夫链蒙特卡罗采样技术，该模块估计了每个体素上纤维方向的局部概率分布，这是运行后续概率纤维束成像的前提(Behrens等人，2003年)。**
**在PANDA中，BedpostX是通过调用FSL的光纤命令来实现的。概率纤维束成像和网络构建。**
**简而言之，对于每个确定的大脑区域/节点，通过从该区域的所有体素播种来执行概率脑束成像。**
**对于每个体素，对5000根纤维进行了采样。**
**为此，调用了FSL的protrackx命令。**
从种子区域到另一个区域的连通概率定义为通过区域的光纤数除以从区域采样的光纤总数，通过对所有节点重复该过程，可以计算出每个节点到脑网络内其他节点的连通概率，这导致了一个特定于个体的加权矩阵，它的行和列表示大脑节点，其元素表示节点之间的连接概率。

